{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jugru\\\\Desktop\\\\projStuff\\\\wta\\\\client\\\\src\\\\Containers\\\\Search.js\";\nimport React, { useState, useEffect } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InnerNavbar from '../Components/InnerNavbar';\nimport { bookByName, bookByAuthor, bookBySubject } from \"../Api-requests/bookRequests\";\nimport TableBox from \"../Components/TableBox\";\nimport getUser from '../actions/getUser';\nimport Book from '../Components/Book';\n\nconst Search = () => {\n  const style = {\n    width: \"400px\"\n  };\n  const [books, setBooks] = useState([]);\n  let username;\n  useEffect(() => {\n    username = getUser();\n  });\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const type = event.target.type.value;\n    const searchString = event.target.searchbar.value;\n    console.log(type);\n    if (type === 0) alert(\"Select a search type!\");else if (searchString.length == 0) alert(\"Search string can't be empty\");else {\n      console.log(\"inside main else\");\n      console.log(type);\n\n      if (type == 1) {\n        console.log(\"inside 1.\");\n        await bookByName(searchString).then(res => {\n          if (res.status === 200) {\n            //console.log(res.data)\n            setBooks(() => {\n              return [...res.data];\n            });\n          }\n        });\n      } else if (type == 2) {\n        console.log(\"inside 2.\");\n        await bookByAuthor(searchString).then(res => {\n          if (res.status === 200) {\n            //console.log(res.data)\n            setBooks(() => {\n              return [...res.data];\n            });\n          }\n        });\n      } else if (type == 3) {\n        console.log(\"inside 3.\");\n        await bookBySubject(searchString).then(res => {\n          if (res.status === 200) {\n            //console.log(res.data)\n            setBooks(() => {\n              return [...res.data];\n            });\n          }\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(InnerNavbar, {\n    username: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"searchdiv\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-select\",\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, \"Search by\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, \"Author\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, \"Subject\")), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"searchbar\",\n    type: \"text\",\n    placeholder: \"Search..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    type: \"submit\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  })))), /*#__PURE__*/React.createElement(TableBox, {\n    Books: books,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }\n  }));\n};\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/Jugru/Desktop/projStuff/wta/client/src/Containers/Search.js"],"names":["React","useState","useEffect","IconButton","SearchIcon","InnerNavbar","bookByName","bookByAuthor","bookBySubject","TableBox","getUser","Book","Search","style","width","books","setBooks","username","handleSubmit","event","preventDefault","type","target","value","searchString","searchbar","console","log","alert","length","then","res","status","data"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport InnerNavbar from '../Components/InnerNavbar'\r\nimport {bookByName,bookByAuthor,bookBySubject} from \"../Api-requests/bookRequests\"\r\nimport TableBox from \"../Components/TableBox\"\r\nimport getUser from '../actions/getUser'\r\nimport Book from '../Components/Book'\r\nconst Search = ()=>{\r\n    const style={\r\n        width:\"400px\"\r\n    }\r\n    const [books,setBooks] = useState([]);\r\n    let username;\r\n    useEffect(()=>{\r\n         username =  getUser();\r\n    })\r\n    const handleSubmit =async (event)=>{\r\n        event.preventDefault();\r\n\r\n        const type =event.target.type.value;\r\n        const searchString = event.target.searchbar.value;\r\n        console.log(type);\r\n        if(type === 0)\r\n        alert(\"Select a search type!\")\r\n        else if(searchString.length==0)\r\n        alert(\"Search string can't be empty\")\r\n        else\r\n        { console.log(\"inside main else\")\r\n        console.log(type)\r\n            if(type == 1)\r\n            {console.log(\"inside 1.\")\r\n                await bookByName(searchString).then((res)=>{\r\n                    if(res.status===200)\r\n                    {//console.log(res.data)\r\n                    setBooks(()=>{\r\n                    return [...res.data]\r\n                    })}\r\n                })\r\n                        \r\n            }\r\n            else if (type==2){\r\n                console.log(\"inside 2.\")\r\n                await bookByAuthor(searchString).then((res)=>{\r\n                    if(res.status===200)\r\n                    {//console.log(res.data)\r\n                    setBooks(()=>{\r\n                    return [...res.data]\r\n                    })}\r\n                })\r\n            }\r\n            else if(type == 3){\r\n                console.log(\"inside 3.\")\r\n                await bookBySubject(searchString).then((res)=>{\r\n                    if(res.status===200)\r\n                    {//console.log(res.data)\r\n                    setBooks(()=>{\r\n                    return [...res.data]\r\n                    })}\r\n                })\r\n            }\r\n        }\r\n    }\r\n    \r\n    return(<div>\r\n    <InnerNavbar  username={username}/>\r\n    <form className=\"searchdiv\" onSubmit={handleSubmit}>\r\n    <div className=\"custom-select\" style={style}>\r\n  <select name=\"type\">\r\n    <option value=\"0\">Search by</option>\r\n    <option value=\"1\">Title</option>\r\n    <option value=\"2\">Author</option>\r\n    <option value=\"3\">Subject</option>\r\n  </select>\r\n    <input id=\"searchbar\" \r\n     type=\"text\" placeholder=\"Search..\"></input>\r\n    <IconButton\r\n     type=\"submit\"\r\n      color=\"primary\">\r\n        <SearchIcon />\r\n      </IconButton>\r\n    </div>\r\n    </form>\r\n   <TableBox Books={books} />\r\n    </div>)\r\n}\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}