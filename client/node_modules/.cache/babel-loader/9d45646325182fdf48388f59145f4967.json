{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jugru\\\\Desktop\\\\projStuff\\\\wta\\\\client\\\\src\\\\Containers\\\\OwnedBooks.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { ownedbooks } from \"../Api-requests/bookRequests\";\nimport TableBox from \"../Components/TableBox\";\nimport getUser from '../actions/getUser';\nimport Book from '../Components/Book';\n\nconst OwnedBooks = () => {\n  const [Books, setBooks] = useState([]);\n\n  const getBooks = async () => {\n    const username = getUser();\n    const res = await ownedbooks(username);\n\n    if (res.status === 200) {\n      setBooks(res.data);\n      console.log(Books);\n    }\n  };\n\n  function useeeePrev(value) {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  }\n\n  useEffect(() => {\n    if (useeeePrev(Books) != Books) getBooks();\n  }, [getBooks]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, \"Your books\"), /*#__PURE__*/React.createElement(TableBox, {\n    Books: Books,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default OwnedBooks;","map":{"version":3,"sources":["C:/Users/Jugru/Desktop/projStuff/wta/client/src/Containers/OwnedBooks.js"],"names":["React","useEffect","useState","useRef","ownedbooks","TableBox","getUser","Book","OwnedBooks","Books","setBooks","getBooks","username","res","status","data","console","log","useeeePrev","value","ref","current"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,EAAiCC,MAAjC,QAA8C,OAA9C;AACA,SAAQC,UAAR,QAAyB,8BAAzB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;AACA,MAAMC,UAAU,GAAE,MAAI;AAClB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBR,QAAQ,CAAC,EAAD,CAAjC;;AACA,QAAMS,QAAQ,GAAG,YAAU;AACvB,UAAMC,QAAQ,GAAIN,OAAO,EAAzB;AACA,UAAMO,GAAG,GAAE,MAAMT,UAAU,CAACQ,QAAD,CAA3B;;AACI,QAAGC,GAAG,CAACC,MAAJ,KAAa,GAAhB,EACC;AAACJ,MAAAA,QAAQ,CAACG,GAAG,CAACE,IAAL,CAAR;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACA;AACR,GAPD;;AAQA,WAASS,UAAT,CAAoBC,KAApB,EAA2B;AACvB,UAAMC,GAAG,GAAGjB,MAAM,EAAlB;AACAF,IAAAA,SAAS,CAAC,MAAM;AACdmB,MAAAA,GAAG,CAACC,OAAJ,GAAcF,KAAd;AACD,KAFQ,CAAT;AAGA,WAAOC,GAAG,CAACC,OAAX;AACD;;AACHpB,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGiB,UAAU,CAACT,KAAD,CAAV,IAAmBA,KAAtB,EACAE,QAAQ;AAEP,GAJI,EAIH,CAACA,QAAD,CAJG,CAAT;AAMC,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADK,eAEL,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEF,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFK,CAAR;AAIJ,CA3BD;;AA4BA,eAAeD,UAAf","sourcesContent":["import React,{useEffect,useState,useRef} from 'react'\r\nimport {ownedbooks} from \"../Api-requests/bookRequests\"\r\nimport TableBox from \"../Components/TableBox\"\r\nimport getUser from '../actions/getUser'\r\nimport Book from '../Components/Book'\r\nconst OwnedBooks= ()=>{\r\n    const [Books,setBooks] = useState([]);\r\n    const getBooks = async ()=>{\r\n        const username =  getUser();\r\n        const res =await ownedbooks(username);\r\n            if(res.status===200)\r\n             {setBooks(res.data);\r\n             console.log(Books)\r\n            }\r\n    }\r\n    function useeeePrev(value) {\r\n        const ref = useRef();\r\n        useEffect(() => {\r\n          ref.current = value;\r\n        });\r\n        return ref.current;\r\n      }\r\n    useEffect(()=>{\r\n        if(useeeePrev(Books)!=Books)\r\n        getBooks();\r\n        \r\n        },[getBooks]);\r\n    \r\n     return (<div>\r\n        <h2>Your books</h2>\r\n        <TableBox Books={Books}/>\r\n    </div>)\r\n}\r\nexport default OwnedBooks;"]},"metadata":{},"sourceType":"module"}